<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Data & Methods — Research on Arabic Literature & Love</title>
  <meta name="description" content="A detailed look at the data and methods used in the research project on Arabic literature and love." />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&family=Inter:wght@400;500;600;700&family=Newsreader:opsz,wght@6..72,600;6..72,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="theme-garnet">
  
<a class="rose-skip left" href="index.html" aria-label="Back to home">
  <svg width="16" height="16" viewBox="0 0 120 120" role="img" aria-hidden="true" focusable="false">
    <g fill="none" stroke="#F6F1E7" stroke-width="8" stroke-linecap="round" stroke-linejoin="round">
      <path d="M60 30 C58 50, 58 80, 60 95" />
      <path d="M54 62 C40 58, 38 68, 52 72" />
      <path d="M66 62 C80 58, 82 68, 68 72" />
    </g>
    <path d="M60 28 c18 0 30 10 30 22 s-12 22-30 22 s-30-10-30-22 s12-22 30-22z" fill="#B86A6A"/>
  </svg>
  <span class="visually-hidden">Back to home</span>
</a>

  <header class="site-hdr" role="banner">
    <div class="wrap hdr__in">
      <nav class="nav" aria-label="Main">
        <a href="index.html">Home</a>
        <a href="index.html#project">About</a>
        <a href="#methods">Data & Methods</a>
        <a href="index.html#results">Results</a>
        <a href="index.html#team">Team</a>
        <a href="index.html#contact">Contact</a>
      </nav>
    </div>
  </header>

  <main id="main">
    <section class="hero" aria-labelledby="h-en">
      <div class="wrap hero__in">
        <h1 id="h-en" class="hero-line en">Data & Methods</h1>
        <p class="hero-line ar" dir="rtl" lang="ar">البيانات والمنهجية</p>
        <p class="hero-meta">Computational approach to classical Arabic literature</p>
      </div>
      <div class="sep" aria-hidden="true">
        <svg class="fleuron" viewBox="0 0 120 24" role="img" aria-label="fleuron">
          <g fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12,12 c6,-8 18,-8 24,0 c-6,8 -18,8 -24,0 z" />
            <path d="M84,12 c-6,-8 -18,-8 -24,0 c6,8 18,8 24,0 z" />
            <circle cx="60" cy="12" r="3.5"/>
          </g>
        </svg>
      </div>
    </section>

    <section id="viz" class="section">
      <div class="wrap narrow">
        <div class="paper card shadow panel">
          <h2 class="sec-title">Corpus size by century x genre</h2>
          <div id="chart" style="width: 100%; height: 500px; background: #fff; margin-top: 1rem;"></div>
          <p class="note" style="margin-top: 1rem; text-align: center;">Distribution of texts in the research corpus across time and literary genres (AH Century)</p>
        </div>
      </div>
    </section>

    <section id="methods" class="section project">
      <div class="wrap narrow">
        <div class="paper card shadow panel">
          <h2 id="methods-title" class="sec-title">Our Corpus</h2>
          <p>
            The research utilizes a comprehensive collection of Arabic texts spanning over a thousand years, including:
          </p>
          <ul class="bullets">
            <li><strong>Classical Poetry:</strong> Works from the Pre-Islamic to the Abbasid era.</li>
            <li><strong>Theological Prose:</strong> Key texts on ethics, spirituality, and jurisprudence.</li>
            <li><strong>Biographical Dictionaries:</strong> Collections documenting the lives and expressions of literary figures.</li>
          </ul>
          
          <h2 id="approach-title" class="sec-title" style="margin-top: 2rem;">NLP Methodology</h2>
          <p>
            We employ modern Natural Language Processing (NLP) techniques to analyze how concepts of love evolve:
          </p>
          <ul class="bullets">
            <li><strong>Semantic Mapping:</strong> Using word embeddings to track shifts in the meaning of "love" (hubb, 'ishq, hawa).</li>
            <li><strong>Sentiment Analysis:</strong> Measuring the emotional valence associated with different literary genres.</li>
            <li><strong>Co-occurrence Networks:</strong> Visualizing how love is linked to concepts like knowledge, ethics, and divinity.</li>
          </ul>

          <h2 id="close-reading-title" class="sec-title" style="margin-top: 2rem;">Close Reading</h2>
          <p>
            Quantitative findings are systematically validated through close reading. We use computational signals to identify specific passages that represent key conceptual transformations, ensuring that our interpretation remains grounded in the original Arabic texts.
          </p>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-ftr">
    <div class="wrap ftr__in">
      <p>© <span id="year"></span> · Project Name — ENS | Institut Jean Nicod</p>
      <p><a href="index.html">Home</a> · <a href="#">Terms</a></p>
    </div>
  </footer>

  <script src="app.js" defer></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      d3.json('data/corpus_size.json').then(data => {
        const genres = ["BIO", "DEV", "PHI", "POE", "RHE", "THE"];
        const color = d3.scaleOrdinal()
          .domain(genres)
          .range(["#1f77b4", "#ff7f0e", "#2ca02c", "#d62728", "#9467bd", "#8c564b"]);

        const margin = {top: 40, right: 120, bottom: 60, left: 60};
        const container = document.getElementById('chart');
        const width = container.clientWidth - margin.left - margin.right;
        const height = container.clientHeight - margin.top - margin.bottom;

        const svg = d3.select("#chart")
          .append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
          .append("g")
            .attr("transform", `translate(${margin.left},${margin.top})`);

        const x = d3.scaleLinear()
          .domain(d3.extent(data, d => d.century))
          .range([ 0, width ]);
        
        svg.append("g")
          .attr("transform", `translate(0,${height})`)
          .call(d3.axisBottom(x).ticks(15).format(d => d));

        svg.append("text")
          .attr("text-anchor", "middle")
          .attr("x", width/2)
          .attr("y", height + 40)
          .text("Century (AH)")
          .style("font-size", "12px");

        const y = d3.scaleLinear()
          .domain([0, 280])
          .range([ height, 0 ]);
        
        svg.append("g")
          .call(d3.axisLeft(y));

        svg.append("text")
          .attr("text-anchor", "middle")
          .attr("transform", "rotate(-90)")
          .attr("y", -45)
          .attr("x", -height/2)
          .text("Number of texts")
          .style("font-size", "12px");

        // Add gridlines
        svg.append("g")                 
          .attr("class", "grid")
          .attr("opacity", 0.1)
          .call(d3.axisLeft(y).tickSize(-width).tickFormat(""));
        
        svg.append("g")                 
          .attr("class", "grid")
          .attr("opacity", 0.1)
          .attr("transform", `translate(0,${height})`)
          .call(d3.axisBottom(x).tickSize(-height).tickFormat(""));

        genres.forEach(genre => {
          const line = d3.line()
            .x(d => x(d.century))
            .y(d => y(d[genre]));

          svg.append("path")
            .datum(data)
            .attr("fill", "none")
            .attr("stroke", color(genre))
            .attr("stroke-width", 1.5)
            .attr("d", line);

          svg.selectAll(`dot-${genre}`)
            .data(data)
            .enter()
            .append("circle")
              .attr("cx", d => x(d.century))
              .attr("cy", d => y(d[genre]))
              .attr("r", 3.5)
              .attr("fill", color(genre));
        });

        // Legend
        const legend = svg.append("g")
          .attr("transform", `translate(${width + 10}, 0)`);

        genres.forEach((genre, i) => {
          const lg = legend.append("g")
            .attr("transform", `translate(0, ${i * 20})`);
          
          lg.append("circle")
            .attr("r", 4)
            .attr("fill", color(genre));
          
          lg.append("text")
            .attr("x", 10)
            .attr("y", 4)
            .text(genre)
            .style("font-size", "11px")
            .attr("alignment-baseline", "middle");
        });
      });
    });
  </script>
</body>
</html>
